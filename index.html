<!doctype html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Why ClojureScript? March 2014 - Chris Oakman</title>
  <script src="js/slides.js"></script>
  <link rel="stylesheet" href="styles/googlecode.css">
  <style>
  article {
    background: #fff !important; /* remove the Google logo */
  }
  .string {
    color: #008A35;
  }
  pre {
    background: #fff !important;
    box-shadow: none !important;
  }
  </style> 
</head>
<body style="display: none">
<section class="slides layout-regular template-default">

<article>
<h1>Why ClojureScript?</h1>
<p>Chris Oakman<br />
  March 2014
</p>
</article>

<article>
  <h3>Overview</h3>
  <ul>
    <li>Goal of the talk</li>
    <li>Definitions</li>
    <li>Why a language?</li>
    <li>Why ClojureScript?</li>
    <li>Why not ClojureScript?</li>
  </ul>
</article>

<article>
  <h3>Goal</h3>
  <p style="margin-top:80px">ClojureScript is an excellent language choice for UI development.</p>
</article>

<article>
  <h1>Definitions</h1>
  <p>Are we all talking about the same thing?</p>
</article>

<article>
<h3>Clojure Concepts</h3>
<ul>
  <li>Simple vs Easy</li>
  <li>Complecting</li>
  <li>Artifacts vs Constructs</li>
  <li>Incidental Complexity vs Problem Complexity</li>
  <li>Human complexity limitations</li>
  <li>Values vs References</li>
</ul>
<div class="source">
More on these ideas: <a href="http://www.infoq.com/presentations/Are-We-There-Yet-Rich-Hickey" target="_blank">Are We There Yet?</a>, <a href="http://www.infoq.com/presentations/Simple-Made-Easy" target="_blank">Simple Made Easy</a>, <a href="http://www.infoq.com/presentations/Value-Values" target="_blank">The Value of Values</a>
</div>
</article>

<article class="">
<h3>The Players</h3>
<ul>
  <li>Clojure - language that targets the JVM</li>
  <li>ClojureScript - dialect of Clojure that targets JS</li>
  <li>Google Closure Compiler - used in the CLJS compilation process</li>
  <li>Google Closure Library</li>
  <li>Closure - computer science concept</li>
</ul>
</article>

<article>
  <h1>Why a language?</h1>
  <p>I say hello, you say hola.</p>
</article>

<article class="smaller">
  <q>A programming system has two parts. The programming <em>environment</em> is the part that's installed on the computer. The programming <em>language</em> is the part that's installed in the programmer's head.</q>
  <div class="author">Bret Victor</div>
  <div class="source"><a href="http://worrydream.com/LearnableProgramming/" target="_blank">http://worrydream.com/LearnableProgramming/</a></div>
</article>

<article>
  <h3>Languages Matter</h3>
  <ul>
    <li>Languages have opinions and defaults that inform and influence decisions</li>
    <li>Languages determine how you think about your program</li>
    <li>What are some of the opinions of <em>your</em> favorite language?</li>
  </ul>
</article>

<article>
  <h3>Unfamiliarity !== Bad</h3>
  <ul>
    <li>"unfamiliar", "weird", "strange" - these are not words of understanding</li>
    <li>Are you focusing on the Construct or the Artifact?</li>
    <li>More language concepts === more power in the language</li>
    <li>How powerful is <em>your</em> favorite language?</li>
  </ul>
</article>

<article>
  <h3>Fill in the blank</h3>
  <p>____________ is a stateful, dynamically typed, imperative programming language often used for web development that supports an object-oriented programming style.</p>
  <div class="build" style="margin-top:80px;">
  <p>Most web development languages are more <em>similar</em> than they are different. People love to focus on the superficial differences between similar languages.</p>
  <p style="margin-top: 80px">Change your language; change the way you think about your programs.</p>
  </div>
</article>

<article>
  <h1>Why ClojureScript?</h1>
  <p>Best of breed.</p>
</article>

<article class="">
  <h3>Clojure has Great Defaults</h3>
  <ul>
    <li>Clojure has a focus on simplicity</li>
    <li>Clojure is a success story on the JVM</li>
    <li>Functional programs are easier to reason about; result in fewer lines of code</li>
    <li>Data is immutable by default</li>
    <li>Pure functions are the default</li>
    <li>Clojure has an excellent approach to state management, which is a first-class problem in UI programming</li>
    <li>Macros allow for extension of the language in a powerful way</li>
  </ul>
</article>

<article class="">
  <h3>All the benefits of JS; none of the warts</h3>
  <ul>
    <li>CLJS compiles to JS; can be used anywhere JS is available</li>
    <li>Simple access to JS libraries and ecosystem</li>
    <li>Real namespaces bring sanity to code organization</li>
    <li>Whole program optimization is a killer feature</li>
    <li>Same language on server and client</li>
  </ul>
</article>

<article>
<h3>First Questions from JS Devs</h3>
<ul>
  <li>Can I use jQuery?</li>
  <li>Can I use <i>*js-library-of-the-week*</i>?</li>
  <li>Can I debug?</li>
</ul>
<div class="build">
<h1 style="margin-top: 80px">Yes!</h1>
</div>
</article>

<article>
<h3>The Problem with State and Mutability</h3>
<section>
<pre><code>// a, b, someFn, anotherFn are defined above this line
a = "foo";
b = "bar";

a = someFn(a);
b = anotherFn(a, b);

// what is the value of a? b?
console.log(a);
console.log(b);
</code></pre>
<p>Mutability complects <em>value</em> over <em>time</em>.</p>
<p style="margin-top: 20px">Put another way, the value of something depends on what "time" it is in the program. Time becomes one more ball to juggle while you're programming.</p>
</section>
</article>

<article>
<h3>More on State and Mutability</h3>
<ul>
  <li>The DOM is stateful</li>
  <li>UIs are stateful</li>
  <li>State and mutability are a huge source of bugs in our programs</li>
  <li>Backbone.js is a library approach to state; try to isolate it</li>
  <li>Angular.js is a library approach to state; data binding</li>
  <li>Clojure deals with state at the language level; not through a library</li>
</ul>
</article>

<article>
<h3>A Clojure Approach to State - Atoms</h3>
<section>
<pre><code>;; foo is an atom; it can change state
(def foo (atom nil))

(defn on-change-foo [old-foo new-foo]
  ;; do something here
  )

;; "watch" the atom for changes
;; run on-change-foo everytime foo changes value
(add-watch foo on-change-foo)

;; change the value of foo with swap!
;; foo becomes the result of executing the bar function
(swap! foo bar)
</code></pre>
<div class="source">* Note: example simplified for talk</div>
</section>
</article>

<article>
<h3>JS Interop and Macro Example - Event Delegation</h3>
<section>
<pre><code>(defn add-events []
  (-> ($ "#myContainer")
    (on "mousedown" on-mousedown)
    (on "click" "#btn1" on-click-btn1)
    (on "click" "#btn2" on-click-btn2)
    (on "hover" ".tab" on-hover-tab)
    (on "change" "input.date" change-date-field)
    (on "click" "#submitBtn" on-submit)))
</code></pre>
</section>
</article>

<article class="smaller">
<h3>Values are Awesome</h3>
<section>
<div style="float: left; width: 49%">
<pre><code>var personA = {
  age: 32,
  name: { first: "John", last: "Doe" }
};

var personB = {
  age: 22,
  name: { first: "Jane", last: "Doe" }
};

if (personA === personB) {
  // why can't I do this in JS?
};
</code></pre>
</div>
<div style="float: right; width: 49%">
<pre><code>(def person-a {
  :age 32
  :name { :first "John" :last "Doe" }})

(def person-b {
  :age 22
  :name { :first "Jane" :last "Doe" }})

(if (= person-a person-b)
  ;; do something
  )
</code></pre>
</div>
<div style="clear: both"></div>
</section>
</article>

<article class="smaller">
<h3>Whole Program Optimization Rocks</h3>
<section>
<pre><code>// no optimizations
function hello(name) {
  alert('Hello, ' + name);
}
hello('New user');</code></pre>
<pre><code>// simple optimizations
function hello(a){alert("Hello, "+a)}hello("New user");</code></pre>
<pre><code>// advanced optimizations removes dead code
alert("Hello, New user");</code></pre>
</section>
</article>

<article>
  <h1>Why not ClojureScript?</h1>
  <p>There is no free lunch.</p>
</article>

<article>
<h3>Things that are less than perfect</h3>
<ul>
  <li>Requires a build process</li>
  <li>Size overhead of the CLJS standard library</li>
  <li>Tooling is young</li>
  <li>Not a huge community</li>
  <li>Initial setup can be difficult</li>
</ul>
<p style="margin-top: 100px">It is my strong opinion that the positives outweigh the negatives.</p>
</article>

<article>
  <h1>Thank you!</h1>
  <p>Chris Oakman
  <br />
  <a href="mailto:chris@oakmac.com">chris@oakmac.com</a>
  <br /><br />
  <a href="http://oakmac.com/why-cljs/">http://oakmac.com/why-cljs/</a><br />
  <a href="https://github.com/oakmac/why-cljs">https://github.com/oakmac/why-cljs</a>
</article>

</section>
<script src="js/highlight.pack.js"></script>
<script>
hljs.initHighlightingOnLoad();
</script>
</body>
</html>